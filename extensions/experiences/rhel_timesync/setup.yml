---
# Labels
#
controller_labels:
  - name: craig_br.portal_experience_demo
    organization: "{{ organization }}"
  - name: rhel_experience
    organization: "{{ organization }}"
  - name: configure_timesync
    organization: "{{ organization }}"

# Projects
#
controller_projects:
  - name: Craig RHEL Operations / Project
    organization: "{{ organization }}"
    scm_branch: feature-rhel-aa
    scm_clean: false
    scm_delete_on_update: true
    scm_type: git
    scm_update_on_launch: true
    scm_url: https://github.com/craig-br/portal_experience_demo.git

# Execution Environment
#
controller_execution_environments:
  - name: RHEL Operations / Execution Environment
    image: quay.io/acme_corp/aap-experience-ee-25:latest
    description: Ansible Portal Execution Environment

# Job Templates
#
controller_templates:
  - name: Craig RHEL / Update RHEL Time Servers
    ask_inventory_on_launch: true
    playbook: extensions/experiences/rhel/playbooks/configure_timesync.yml
    project: Ansible Portal Operations
    survey_enabled: true
    labels:
      - craig_br.portal_experience_demo
      - rhel_experience
      - configure_timesync
    # survey_spec: "{{ lookup('file', playbook_dir + 'template_surveys/configure_timesync.yml') }}"
    spec: "{{ lookup('file', experience.path.replace('setup.yml', '') + 'template_surveys/configure_timesync.yml') | from_yaml }}"
    execution_environment: RHEL Operations / Execution Environment
