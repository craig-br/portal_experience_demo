---
# Labels
#
controller_labels:
  - name: rhel
    organization: "{{ organization }}"
  - name: configure-timesync
    organization: "{{ organization }}"

# Projects
#
controller_projects:
  - name: Ansible Portal Operations
    organization: "{{ organization }}"
    scm_branch: feature-rhel-aa
    scm_clean: false
    scm_delete_on_update: true
    scm_type: git
    scm_update_on_launch: true
    scm_url: https://github.com/craig-br/portal_experience_demo.git

# Execution Environment
#
controller_execution_environments:
  - name: Ansible Portal Execution Environment
    image: quay.io/ansible-product-demos/apd-ee-25:latest
    description: Ansible Portal Execution Environment

# Job Templates
#
controller_templates:
  - name: RHEL / Update RHEL Time Servers
    ask_inventory_on_launch: true
    playbook: extensions/experiences/rhel/playbooks/configure_timesync.yml
    project: Ansible Portal Operations
    survey_enabled: true
    labels:
      - rhel
      - configure-timesync
    survey_spec: "{{ lookup('template', __tmp_dir.path + '/portal_experience_demo/extensions/experiences/templates/configure_timesync.yml') | from_yaml }}"
    execution_environment: Ansible Portal Execution Environment
